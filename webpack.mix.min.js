'use strict';const mix=require("laravel-mix"),exec=require("child_process").exec;require("dotenv").config();require("laravel-mix-workbox");const glob=require("glob"),path=require("path");function mixAssetsDir(b,a){(glob.sync("resources/"+b)||[]).forEach(c=>{c=c.replace(/[\\\/]+/g,"/");a(c,c.replace("resources","public"))})}const sassOptions={precision:5,includePaths:["node_modules","resources/assets/"]};
mixAssetsDir("scss/base/plugins/**/!(_)*.scss",(b,a)=>mix.sass(b,a.replace(/(\\|\/)scss(\\|\/)/,"$1css$2").replace(/\.scss$/,".css"),{sassOptions}));mixAssetsDir("scss/base/pages/**/!(_)*.scss",(b,a)=>mix.sass(b,a.replace(/(\\|\/)scss(\\|\/)/,"$1css$2").replace(/\.scss$/,".css"),{sassOptions}));mixAssetsDir("scss/base/core/**/!(_)*.scss",(b,a)=>mix.sass(b,a.replace(/(\\|\/)scss(\\|\/)/,"$1css$2").replace(/\.scss$/,".css"),{sassOptions}));mixAssetsDir("js/scripts/**/*.js",(b,a)=>mix.scripts(b,a));
mixAssetsDir("vendors/js/**/*.js",(b,a)=>mix.scripts(b,a));mixAssetsDir("vendors/bower/**/*.js",(b,a)=>mix.scripts(b,a));mixAssetsDir("vendors/css/**/*.css",(b,a)=>mix.copy(b,a));mixAssetsDir("css/*",(b,a)=>mix.copy(b,a));mixAssetsDir("js/kyc/*",(b,a)=>mix.copy(b,a));mixAssetsDir("vendors/bower/**/*.css",(b,a)=>mix.copy(b,a));mixAssetsDir("vendors/**/**/images",(b,a)=>mix.copy(b,a));mixAssetsDir("vendors/css/editors/quill/fonts/",(b,a)=>mix.copy(b,a));mixAssetsDir("fonts",(b,a)=>mix.copy(b,a));
mixAssetsDir("fonts/**/**/*.css",(b,a)=>mix.copy(b,a));mix.copyDirectory("resources/images","public/images");mix.copyDirectory("resources/img","public/img");mix.copyDirectory("resources/data","public/data");
mix.js("src/main.js","public/js").js("src/mainM.js","public/js").js("src/watchlist.js","public/js").js("src/market/market.js","public/js").vue().js("resources/js/core/app-menu.js","public/js/core").js("resources/js/core/app.js","public/js/core").js("resources/assets/js/scripts.js","public/js/core").js("resources/js/frontend/app.js","public/js/frontend").js("resources/js/frontend/manifest.js","public/js/frontend").js("resources/js/frontend/vendor.js","public/js/frontend").sass("resources/scss/base/themes/dark-layout.scss",
"public/css/base/themes",{sassOptions}).sass("resources/scss/base/themes/bordered-layout.scss","public/css/base/themes",{sassOptions}).sass("resources/scss/base/themes/semi-dark-layout.scss","public/css/base/themes",{sassOptions}).sass("resources/scss/core.scss","public/css",{sassOptions}).sass("resources/scss/overrides.scss","public/css",{sassOptions}).sass("resources/scss/base/custom-rtl.scss","public/css-rtl",{sassOptions}).sass("resources/assets/scss/style-rtl.scss","public/css-rtl",{sassOptions}).sass("resources/assets/scss/style.scss",
"public/css",{sassOptions}).generateSW({exclude:[/\.(?:png|jpg|jpeg|svg)$/],runtimeCaching:[{urlPattern:/\.(?:png|jpg|jpeg|svg|js|css|woff2)$/,handler:"CacheFirst",options:{cacheName:"images"}}],skipWaiting:!0});mix.then(()=>{if("rtl"===process.env.MIX_CONTENT_DIRECTION){let b=`node ${path.resolve("node_modules/rtlcss/bin/rtlcss.js")} -d -e ".css" ./public/css/ ./public/css/`;exec(b,function(a,c,d){null!==a&&console.log(a)})}});
mix.inProduction()?mix.version().options({terser:{parallel:!0}}):mix.sourceMaps().webpackConfig({stats:{children:!0},devtool:"inline-source-map"});